<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Formulário de Atividade</title>
</head>
<body>
    <h2 th:text="${atividade.id != null} ? 'Editar Atividade' : 'Nova Atividade'"></h2>

    <form th:action="@{/admin/atividades/salvar}" th:object="${atividade}" method="post" enctype="multipart/form-data">

        <input type="hidden" th:field="*{id}"/>

        <label>Nome:</label>
        <input type="text" th:field="*{nome}" required/><br/>

        <label>Descrição:</label>
        <textarea th:field="*{descricao}" required></textarea><br/>

        <label>Categoria:</label>
        <select th:field="*{categoria}">
            <option th:each="c : ${T(com.computeca.bncc.model.Categoria).values()}"
                    th:value="${c}" th:text="${c}"></option>
        </select><br/>

        <label>Etapa Educacional:</label>
        <select th:field="*{etapaComoString}">
            <option value="Fundamental I">Fundamental I</option>
            <option value="Fundamental II">Fundamental II</option>
            <option value="Ensino Médio">Ensino Médio</option>
        </select><br/>

        <label>Habilidades BNCC:</label>
        <textarea th:field="*{habilidadesComoString}" 
                  placeholder="Separe por vírgula"></textarea><br/>

        <label>Link:</label>
        <input type="url" th:field="*{link}"/><br/>

        <label>Imagem:</label>
        <input type="file" name="imagem"/><br/>
        <div th:if="${atividade.urlImagem != null}">
            <img th:src="@{${atividade.urlImagem}}" width="150"/>
        </div>

        <button type="submit">Salvar</button>
    </form>
</body>
</html>
